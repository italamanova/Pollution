  Скелет диплома
1. Цель
Выбор модели реал-тайм прогнозирования параметров загрязнения окружающей среды

2. общие положения, термины и определения
2.1 Параметры загрязнения учитываются с помощью датчиков, зачения замеряются
и фиксируются с регулярной частотой.
??Чем выше частота фиксации измерений, тем более реальную информацию можно
получить посредством их анализа

2.2 Таким образом мы имеем ряд значений датчиков на некотором временном интервале,
  иначе говоря мы имеем дело с временными рядами

2.3 В настоящее время большую популярность получили работы направленные на
построение моделей предсказания значений временных рядов, но основная
направленность их - построение стабильных (долгоиспользуемых) моделей.

2.4. Типичная процедура построения и верификации модели состоит из:
- выбор модели, определение ее оптимальных параметров
- выбор общего интервала для проведения тренинга и верификации модели 
- тренинг / обучение модели на интервале, обычно называемом тренинг интервал
- верификация качества модели на интервале, обычно назывемом тест интервал
- оценка качества предсказания на различных интервалах предсказания

2.5 Сложившаяся практика выбора размеров траин и тест интервалов для
 такого рода использования модели заключается в отведении на траин 3/4
или 4/5 общего интервала и 1/4 или 1/5 для верификации.

2.6 Для реал-тайм предсказаний выбор значительного размера тест интервала
нецелесообразен, его можно и нужно ограничить, например для часового интервала
фиксации замеров достаточно взять сутки = 24 часа.

2.7 Критерии качества реал-тайм предсказания.
2.7.1 Исходя из здравого смысла при любом предсказании наиболее значимым
является его первый шаг - предсказывать все равно нужно, хотя бы на один шаг.
Каждый последующий шаг предсказания может быть более (что радует) или менее
удачным. Логично предположить что каждый последующий шаг предсказания
может оказываться хуже предыдущего. В этом случае необходимо определить
доверительный интервал

2.7.2 Наиболее популярной мерикой величины отличия предсказаний от тестовыъ
является RMSE (...). Для N шагов предсказания можно построить набор метрик
RMSE[1] для первого шага, RMSE[K] для первых K шагов ... RMSE[N] для N шагов

2.7.3. Для оценки изменения качества от количества шагов предсказания
предлагается использовать метрику приведенного среднего
SUM[i=1, N](RMSE[i])/N/RMSE[1]

3. Выбор и сравнение методов и моделей для проведения работ
Для проведения работ были выбраны;
- метод статистического анализа, в нем
модели Smoosing и ARIMA, совмещающая в себе модели авторегресии (AR) и
moving average (MA)
- метод рекурентных нейронных сетей с использованием LSTM с моделями
различных архитектур (simple - 1 LSTM layer/ stacked - 2 LSTM layers,
decode-encode ie seq2seq - 1 LSTM layer - decoder, 1 LSTM layre - encoder).
3.1 Статистические методы
Обычно статистические методы используются для стационарных временных рядов
(см. раздел Анализ временных рядов).
В случае нестационарности ряда проводятся мероприятия по попыытке привести
из к стационарности (см. там же)
Выбранные модели предполагается могут работать с нестационарными рядами
Основная особенность статичтических методов заключается в
 одноразовом построении и тренинге модели
с возможностью в последующем получать произвольное количество предиктов.
В случае ухудшения качества предиктов модель необходимо перестроить и перетренировать
3.1.1 Smoosing
Принцип выполнения предсказаний
...
Параметры модели
....

3.1.2. (S)ARIMA
Принцип выполнения предсказаний
Использование авторегресии с последующим moving average, для рядов с выраженной
сезонностью использование тех же механизмов для учета сезонности
Параметры
p - лаг автокорреляции основного ряда
d - количество дифференцирований основного ряда для исключения тренда
q - шаг moving average основногоряда
m - размер интервала сезонности 
P - лаг автокорреляции сезонности
D - количество дифференцирований сезонности для исключения тренда
Q - шаг moving average для сезонности

3.2 Рекурентные нейронные сети с использованием LSTM
Принцип выполнения предсказаний
Возможность одно/много шагогово предсказания для одно/много фрагмента
наблюдаемых данных
Это достигается путем подготовки данных траин/тест в виде ... (см рисунок)
Параметры
n_units - количество скрытых нейронов в слое LSTM
dropout - уровень отсечения решений !!!
n_steps_out - количество выходных для тренинга/теста шагов
n_steps_in - количество входных для трининга/теста шагов
batch_size - количество ...
n_epochs - количество элох (повторения однократного траина) для улучшения обучения
n_pacience - количество эпох, не приносящих улучшение в обучение, позволяющее уменьшить время обучения
 и избежать переобучения
????Предлагаемые для анализа архитектуры 
- 

3.3 Главное отличие модели нейронных сетей от статистических методов заключается именно
в возможности использования ее без перестройки для выполнения предикта
на нескольких интервалах (при сохранении критерия качества предсказаний)
без перестройки и/или переобучения модели
Кроме того использование нейронных сетей позволяет учитывать на этапах тренинга/теста
дополнительные закономерности, например ту же сезонность и возможно -
отклонение значений ряда друг от друга (аналог дифференцирования)

4. Анализ временных рядов
4.1 Для проведения исследований были выбраны данные о загрязнении окружающей
среды в  (место) , а именно (список показателей)
4.2 ?(Не имея сведений о их корреляции) предлагается исследовать каждый
показатель в отдельности 

4.. Анализ показывает, что все ряды обладают ?(нечетко выраженной) дневной сезонностью,
для уменьшения ... целесообразно использовать преобразование Бокса-Кокса (хотя бы логарифмирование - для л=1)
использование дифференцирования не приводит к исключению тренда, но критерии стационарности 
не отрицают стационарность?

5. Порядок выполнения работ
5.1 Уточнение задачи
Для каждой (или нескольких подобных) исследуемой модели необходимо:
- подобрать (??оптимальные) интервалы транинга/предсказания
- подобрать оптимальные параметры модели, определив при этом время потраченное на подбор)
- провести траин/тест модели
- оценить качество предсказаний, определив при этом время, затрачиваемое на траин
5.2 Статистические модели
Целесообразно совместить выбор интервалов траин/тест с подбором параметров
5.2.1 Smoosing
Платформа python + ...
Подбор интервалов и параметров для Smmosing выполнять перебором (??в разумных пределах)
5.2.2.(S)ARIMA
Платформа python + (S)ARIMA + autoArima
Подбор интервалов ?
Для подбора параметров использовать модуль autoARIMA
Для уменьшения времени подбора предварительно провести выбор оптимальных границ параметров autoARIMA
5.3. Рекурентные нейронные сети с использованием LSTM
Платформа python + keras
На (??нескольких произвольно выбранных) интервалах траин/тест и (??нескольких произвольно подобранных)
сочетаниях параметров провести сравнение архитектур по критериях качества предикта и времени обучения
и выбрать одну архитектуру для дальнейшей работы
Подбор параметров ??
Подбор интервалов ??
Дополнительно определить количество самплов (повторений предсказывания) без переобучения модели
 
7. Эксперимент со Smoosing
Подбор интервалов и параметров
Оценка точности (??первого предикта), доверительного интервала предикта
.....

8. Эксперимент с (S)ARIMA
....
Выбор интервалов параметров с учетом интервала сезонности
Подбор интервалов
Оценка точности (??первого предикта), доверительного интервала предикта

9. Эксперимент с рекурентными нейронными сетями с использованием LSTM
...
Выбор архитектуры
Использование дополнительных знаний
- интервал сезонности
??- изменение величин показателя от времени = x[i] - x[i-1] (1 - увеличение, -1 - уменьшение

10. Сравнение моделей
- интервал предсказания (??и)
- точность предсказания
- использование без перетренинга
- время (??подбора параметров и) тренинга

11. Выводы

12. (??Применение и ) Дальнейшее развитие
